# java并发机制的底层实现原理  
## 1.volatile的应用  
- 保证了对共享变量的可见性，也就是当我对volatile对一个变量进行修饰的时候，某个线程对该变量进行修改后，其它线程能立即感知，但是我们要知道**volatile并不是线程安全的**，一个不严谨的例子就是多个线程对同一个变量进行自增操作，volatile只能保证线程取出来的变量值，此时是正确的，如果在当前线程自增的同时，其它线程已经执行完自增操作，那么当前的值就过期了，并且可能把较小的值写回了变量。  
- 禁止指令重排序优化，假设有两个线程，一个A和一个B，其中B线程要依赖于A线程中的某些信息，因此B线程需要一个标志位来判断A是否执行完毕，这个时候A线程中执行代码的标志位可能会被提前执行，导致了B中需要的某些信息未就绪，导致bug。  

## 2.volatile的实现原理  
在多核处理器下，volatile会在变量的汇编指令前加上lock指令，做了两件事。  
- 将当前处理器缓存行数据写回系统内存  
- 这个写回操作会使其它线程缓存了该地址的数据失效  

## 3.synchronize的实现原理与应用  

